{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\senior-project\\\\web-template-new\\\\frontend\\\\src\\\\components\\\\ReadingsChart.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from \"react\";\nimport { ResponsiveContainer, LineChart, Line, XAxis, YAxis, Tooltip, CartesianGrid } from \"recharts\";\n\n// rows: array of objects from DB\n// xKey: timestamp column name\n// yKeys: one or more numeric columns\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReadingsChart({\n  title,\n  rows,\n  xKey,\n  yKeys\n}) {\n  _s();\n  const data = useMemo(() => {\n    if (!Array.isArray(rows)) return [];\n    return rows.map(r => {\n      const x = r === null || r === void 0 ? void 0 : r[xKey];\n      if (!x) return null;\n      const obj = {\n        ...r,\n        __x: new Date(x).getTime()\n      };\n      return obj;\n    }).filter(Boolean).sort((a, b) => a.__x - b.__x);\n  }, [rows, xKey]);\n  if (!data.length) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"datatable\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [title, \" (Chart)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"50%\",\n        height: 440\n      },\n      children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          data: data,\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"__x\",\n            type: \"number\",\n            domain: [\"auto\", \"auto\"],\n            tickFormatter: v => new Date(v).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            labelFormatter: v => new Date(v).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), yKeys.map(k => /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: k,\n            dot: false\n          }, k, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(ReadingsChart, \"jwuu1hJIzb+z9O8CErpZ1XdXNoc=\");\n_c = ReadingsChart;\nvar _c;\n$RefreshReg$(_c, \"ReadingsChart\");","map":{"version":3,"names":["React","useMemo","ResponsiveContainer","LineChart","Line","XAxis","YAxis","Tooltip","CartesianGrid","jsxDEV","_jsxDEV","ReadingsChart","title","rows","xKey","yKeys","_s","data","Array","isArray","map","r","x","obj","__x","Date","getTime","filter","Boolean","sort","a","b","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","height","strokeDasharray","dataKey","type","domain","tickFormatter","v","toLocaleString","labelFormatter","k","dot","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/senior-project/web-template-new/frontend/src/components/ReadingsChart.js"],"sourcesContent":["import React, { useMemo } from \"react\";\r\nimport {\r\n  ResponsiveContainer,\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  CartesianGrid,\r\n} from \"recharts\";\r\n\r\n// rows: array of objects from DB\r\n// xKey: timestamp column name\r\n// yKeys: one or more numeric columns\r\nexport default function ReadingsChart({ title, rows, xKey, yKeys }) {\r\n  const data = useMemo(() => {\r\n    if (!Array.isArray(rows)) return [];\r\n    return rows\r\n      .map((r) => {\r\n        const x = r?.[xKey];\r\n        if (!x) return null;\r\n        const obj = { ...r, __x: new Date(x).getTime() };\r\n        return obj;\r\n      })\r\n      .filter(Boolean)\r\n      .sort((a, b) => a.__x - b.__x);\r\n  }, [rows, xKey]);\r\n\r\n  if (!data.length) return null;\r\n\r\n  return (\r\n    <div className=\"datatable\">\r\n      <h3>{title} (Chart)</h3>\r\n      <div style={{ width: \"50%\", height: 440 }}>\r\n        <ResponsiveContainer>\r\n          <LineChart data={data}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis\r\n              dataKey=\"__x\"\r\n              type=\"number\"\r\n              domain={[\"auto\", \"auto\"]}\r\n              tickFormatter={(v) => new Date(v).toLocaleString()}\r\n            />\r\n            <YAxis />\r\n            <Tooltip\r\n              labelFormatter={(v) => new Date(v).toLocaleString()}\r\n            />\r\n            {yKeys.map((k) => (\r\n              <Line\r\n                key={k}\r\n                type=\"monotone\"\r\n                dataKey={k}\r\n                dot={false}\r\n              />\r\n            ))}\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}