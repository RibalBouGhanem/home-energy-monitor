{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ribal\\\\Desktop\\\\Senior\\\\website\\\\frontend\\\\src\\\\components\\\\dashboard\\\\Dashboard.js\",\n  _s = $RefreshSig$();\n// src/components/dashboard/Dashboard.jsx\nimport React, { useMemo } from \"react\";\nimport StatCard from \"./StatCard\";\nimport { useDashboardStats } from \"../analytics/hooks/useDashboardStats\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction safeParse(json, fallback) {\n  try {\n    const v = JSON.parse(json);\n    return v !== null && v !== void 0 ? v : fallback;\n  } catch {\n    return fallback;\n  }\n}\nexport default function Dashboard() {\n  _s();\n  // Read monitors from localStorage\n  const monitors = useMemo(() => {\n    return safeParse(localStorage.getItem(\"monitors\"), []);\n  }, []);\n\n  // Derive monitorId (no storing/persisting; just using what's already in localStorage)\n  const selectedMonitorId = useMemo(() => {\n    var _first$Monitor_ID;\n    const first = monitors === null || monitors === void 0 ? void 0 : monitors[0];\n    const id = (_first$Monitor_ID = first === null || first === void 0 ? void 0 : first.Monitor_ID) !== null && _first$Monitor_ID !== void 0 ? _first$Monitor_ID : first === null || first === void 0 ? void 0 : first.monitor_id;\n    return id != null ? String(id) : \"\";\n  }, [monitors]);\n  const {\n    stats,\n    err,\n    loading\n  } = useDashboardStats(selectedMonitorId);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"dashboard-section\",\n    id: \"dashboard\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-title\",\n        children: \"Dashboard Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), !selectedMonitorId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"muted\",\n        style: {\n          marginTop: 10\n        },\n        children: \"No monitor found for this account. (Try logging in again.)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this), loading && selectedMonitorId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"muted\",\n        style: {\n          marginTop: 10\n        },\n        children: \"Loading dashboard stats...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        style: {\n          marginTop: 10\n        },\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        style: {\n          marginTop: 16\n        },\n        children: stats.map(stat => /*#__PURE__*/_jsxDEV(StatCard, {\n          ...stat\n        }, stat.title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"YrJ8T9NTnY9XQUe8BY/i7+HMAc4=\", false, function () {\n  return [useDashboardStats];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useMemo","StatCard","useDashboardStats","jsxDEV","_jsxDEV","safeParse","json","fallback","v","JSON","parse","Dashboard","_s","monitors","localStorage","getItem","selectedMonitorId","_first$Monitor_ID","first","id","Monitor_ID","monitor_id","String","stats","err","loading","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","map","stat","title","_c","$RefreshReg$"],"sources":["C:/Users/ribal/Desktop/Senior/website/frontend/src/components/dashboard/Dashboard.js"],"sourcesContent":["// src/components/dashboard/Dashboard.jsx\r\nimport React, { useMemo } from \"react\";\r\nimport StatCard from \"./StatCard\";\r\nimport { useDashboardStats } from \"../analytics/hooks/useDashboardStats\";\r\n\r\nfunction safeParse(json, fallback) {\r\n  try {\r\n    const v = JSON.parse(json);\r\n    return v ?? fallback;\r\n  } catch {\r\n    return fallback;\r\n  }\r\n}\r\n\r\nexport default function Dashboard() {\r\n  // Read monitors from localStorage\r\n  const monitors = useMemo(() => {\r\n    return safeParse(localStorage.getItem(\"monitors\"), []);\r\n  }, []);\r\n\r\n  // Derive monitorId (no storing/persisting; just using what's already in localStorage)\r\n  const selectedMonitorId = useMemo(() => {\r\n    const first = monitors?.[0];\r\n    const id = first?.Monitor_ID ?? first?.monitor_id;\r\n    return id != null ? String(id) : \"\";\r\n  }, [monitors]);\r\n\r\n  const { stats, err, loading } = useDashboardStats(selectedMonitorId);\r\n\r\n  return (\r\n    <section className=\"dashboard-section\" id=\"dashboard\">\r\n      <div className=\"dashboard-container\">\r\n        <h2 className=\"section-title\">Dashboard Overview</h2>\r\n\r\n        {!selectedMonitorId && (\r\n          <div className=\"muted\" style={{ marginTop: 10 }}>\r\n            No monitor found for this account. (Try logging in again.)\r\n          </div>\r\n        )}\r\n\r\n        {loading && selectedMonitorId && (\r\n          <div className=\"muted\" style={{ marginTop: 10 }}>\r\n            Loading dashboard stats...\r\n          </div>\r\n        )}\r\n\r\n        {err && (\r\n          <div className=\"error\" style={{ marginTop: 10 }}>\r\n            {err}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"stats-grid\" style={{ marginTop: 16 }}>\r\n          {stats.map((stat) => (\r\n            <StatCard key={stat.title} {...stat} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,OAAO,QAAQ,OAAO;AACtC,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,iBAAiB,QAAQ,sCAAsC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzE,SAASC,SAASA,CAACC,IAAI,EAAEC,QAAQ,EAAE;EACjC,IAAI;IACF,MAAMC,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC;IAC1B,OAAOE,CAAC,aAADA,CAAC,cAADA,CAAC,GAAID,QAAQ;EACtB,CAAC,CAAC,MAAM;IACN,OAAOA,QAAQ;EACjB;AACF;AAEA,eAAe,SAASI,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC;EACA,MAAMC,QAAQ,GAAGb,OAAO,CAAC,MAAM;IAC7B,OAAOK,SAAS,CAACS,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC;EACxD,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMC,iBAAiB,GAAGhB,OAAO,CAAC,MAAM;IAAA,IAAAiB,iBAAA;IACtC,MAAMC,KAAK,GAAGL,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAG,CAAC,CAAC;IAC3B,MAAMM,EAAE,IAAAF,iBAAA,GAAGC,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEE,UAAU,cAAAH,iBAAA,cAAAA,iBAAA,GAAIC,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEG,UAAU;IACjD,OAAOF,EAAE,IAAI,IAAI,GAAGG,MAAM,CAACH,EAAE,CAAC,GAAG,EAAE;EACrC,CAAC,EAAE,CAACN,QAAQ,CAAC,CAAC;EAEd,MAAM;IAAEU,KAAK;IAAEC,GAAG;IAAEC;EAAQ,CAAC,GAAGvB,iBAAiB,CAACc,iBAAiB,CAAC;EAEpE,oBACEZ,OAAA;IAASsB,SAAS,EAAC,mBAAmB;IAACP,EAAE,EAAC,WAAW;IAAAQ,QAAA,eACnDvB,OAAA;MAAKsB,SAAS,EAAC,qBAAqB;MAAAC,QAAA,gBAClCvB,OAAA;QAAIsB,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAC;MAAkB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEpD,CAACf,iBAAiB,iBACjBZ,OAAA;QAAKsB,SAAS,EAAC,OAAO;QAACM,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAG,CAAE;QAAAN,QAAA,EAAC;MAEjD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACN,EAEAN,OAAO,IAAIT,iBAAiB,iBAC3BZ,OAAA;QAAKsB,SAAS,EAAC,OAAO;QAACM,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAG,CAAE;QAAAN,QAAA,EAAC;MAEjD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACN,EAEAP,GAAG,iBACFpB,OAAA;QAAKsB,SAAS,EAAC,OAAO;QAACM,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAG,CAAE;QAAAN,QAAA,EAC7CH;MAAG;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CACN,eAED3B,OAAA;QAAKsB,SAAS,EAAC,YAAY;QAACM,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAG,CAAE;QAAAN,QAAA,EAClDJ,KAAK,CAACW,GAAG,CAAEC,IAAI,iBACd/B,OAAA,CAACH,QAAQ;UAAA,GAAsBkC;QAAI,GAApBA,IAAI,CAACC,KAAK;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAa,CACvC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEd;AAACnB,EAAA,CA9CuBD,SAAS;EAAA,QAaCT,iBAAiB;AAAA;AAAAmC,EAAA,GAb3B1B,SAAS;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}