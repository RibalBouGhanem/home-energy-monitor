{"ast":null,"code":"export function exportRowsToCsv(filename, rows) {\n  if (!Array.isArray(rows) || rows.length === 0) {\n    console.warn(\"exportRowsToCsv: no rows to export\");\n    return false;\n  }\n  const headers = Array.from(rows.reduce((set, r) => {\n    Object.keys(r || {}).forEach(k => set.add(k));\n    return set;\n  }, new Set()));\n  const esc = v => `\"${String(v !== null && v !== void 0 ? v : \"\").replaceAll('\"', '\"\"')}\"`;\n  const csv = [headers.join(\",\"), ...rows.map(r => headers.map(h => esc(r === null || r === void 0 ? void 0 : r[h])).join(\",\"))].join(\"\\n\");\n  const blob = new Blob([csv], {\n    type: \"text/csv;charset=utf-8\"\n  });\n\n  // IE/old Edge fallback\n  if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveOrOpenBlob(blob, filename);\n    return true;\n  }\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = filename;\n  a.style.display = \"none\";\n  document.body.appendChild(a);\n  a.click();\n  a.remove();\n  URL.revokeObjectURL(url);\n  return true;\n}","map":{"version":3,"names":["exportRowsToCsv","filename","rows","Array","isArray","length","console","warn","headers","from","reduce","set","r","Object","keys","forEach","k","add","Set","esc","v","String","replaceAll","csv","join","map","h","blob","Blob","type","window","navigator","msSaveOrOpenBlob","url","URL","createObjectURL","a","document","createElement","href","download","style","display","body","appendChild","click","remove","revokeObjectURL"],"sources":["C:/Users/ribal/Desktop/Senior/website/frontend/src/utils/exportCsv.js"],"sourcesContent":["export function exportRowsToCsv(filename, rows) {\r\n  if (!Array.isArray(rows) || rows.length === 0) {\r\n    console.warn(\"exportRowsToCsv: no rows to export\");\r\n    return false;\r\n  }\r\n\r\n  const headers = Array.from(\r\n    rows.reduce((set, r) => {\r\n      Object.keys(r || {}).forEach((k) => set.add(k));\r\n      return set;\r\n    }, new Set())\r\n  );\r\n\r\n  const esc = (v) => `\"${String(v ?? \"\").replaceAll('\"', '\"\"')}\"`;\r\n\r\n  const csv = [\r\n    headers.join(\",\"),\r\n    ...rows.map((r) => headers.map((h) => esc(r?.[h])).join(\",\")),\r\n  ].join(\"\\n\");\r\n\r\n  const blob = new Blob([csv], { type: \"text/csv;charset=utf-8\" });\r\n\r\n  // IE/old Edge fallback\r\n  if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n    window.navigator.msSaveOrOpenBlob(blob, filename);\r\n    return true;\r\n  }\r\n\r\n  const url = URL.createObjectURL(blob);\r\n\r\n  const a = document.createElement(\"a\");\r\n  a.href = url;\r\n  a.download = filename;\r\n  a.style.display = \"none\";\r\n\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  a.remove();\r\n\r\n  URL.revokeObjectURL(url);\r\n  return true;\r\n}\r\n"],"mappings":"AAAA,OAAO,SAASA,eAAeA,CAACC,QAAQ,EAAEC,IAAI,EAAE;EAC9C,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,IAAIA,IAAI,CAACG,MAAM,KAAK,CAAC,EAAE;IAC7CC,OAAO,CAACC,IAAI,CAAC,oCAAoC,CAAC;IAClD,OAAO,KAAK;EACd;EAEA,MAAMC,OAAO,GAAGL,KAAK,CAACM,IAAI,CACxBP,IAAI,CAACQ,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAK;IACtBC,MAAM,CAACC,IAAI,CAACF,CAAC,IAAI,CAAC,CAAC,CAAC,CAACG,OAAO,CAAEC,CAAC,IAAKL,GAAG,CAACM,GAAG,CAACD,CAAC,CAAC,CAAC;IAC/C,OAAOL,GAAG;EACZ,CAAC,EAAE,IAAIO,GAAG,CAAC,CAAC,CACd,CAAC;EAED,MAAMC,GAAG,GAAIC,CAAC,IAAK,IAAIC,MAAM,CAACD,CAAC,aAADA,CAAC,cAADA,CAAC,GAAI,EAAE,CAAC,CAACE,UAAU,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG;EAE/D,MAAMC,GAAG,GAAG,CACVf,OAAO,CAACgB,IAAI,CAAC,GAAG,CAAC,EACjB,GAAGtB,IAAI,CAACuB,GAAG,CAAEb,CAAC,IAAKJ,OAAO,CAACiB,GAAG,CAAEC,CAAC,IAAKP,GAAG,CAACP,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAGc,CAAC,CAAC,CAAC,CAAC,CAACF,IAAI,CAAC,GAAG,CAAC,CAAC,CAC9D,CAACA,IAAI,CAAC,IAAI,CAAC;EAEZ,MAAMG,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACL,GAAG,CAAC,EAAE;IAAEM,IAAI,EAAE;EAAyB,CAAC,CAAC;;EAEhE;EACA,IAAIC,MAAM,CAACC,SAAS,IAAID,MAAM,CAACC,SAAS,CAACC,gBAAgB,EAAE;IACzDF,MAAM,CAACC,SAAS,CAACC,gBAAgB,CAACL,IAAI,EAAE1B,QAAQ,CAAC;IACjD,OAAO,IAAI;EACb;EAEA,MAAMgC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACR,IAAI,CAAC;EAErC,MAAMS,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EACrCF,CAAC,CAACG,IAAI,GAAGN,GAAG;EACZG,CAAC,CAACI,QAAQ,GAAGvC,QAAQ;EACrBmC,CAAC,CAACK,KAAK,CAACC,OAAO,GAAG,MAAM;EAExBL,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,CAAC,CAAC;EAC5BA,CAAC,CAACS,KAAK,CAAC,CAAC;EACTT,CAAC,CAACU,MAAM,CAAC,CAAC;EAEVZ,GAAG,CAACa,eAAe,CAACd,GAAG,CAAC;EACxB,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}