{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\senior-project\\\\website\\\\frontend\\\\src\\\\components\\\\analytics\\\\userCharts\\\\GrowthAnalyticsChart.js\",\n  _s = $RefreshSig$();\n// src/components/analytics/charts/GrowthAnalyticsChart.jsx\nimport React, { useMemo } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction safeNum(v) {\n  const n = Number(v);\n  return Number.isFinite(n) ? n : 0;\n}\nfunction seriesFrom(rows, key) {\n  // rows already ASC (we pass cons7/cons30 already ASC from hook)\n  return (rows || []).map(r => safeNum(r === null || r === void 0 ? void 0 : r[key]));\n}\nexport default function GrowthAnalyticsChart({\n  activeRange,\n  onChangeRange,\n  consumptionDaily = [],\n  consumptionDaily30 = [],\n  productionDaily = [],\n  productionDaily30 = []\n}) {\n  _s();\n  const ranges = [\"Week\", \"Month\", \"Year\"];\n  const {\n    cons,\n    prod\n  } = useMemo(() => {\n    if (activeRange === \"Week\") {\n      return {\n        cons: seriesFrom(consumptionDaily, \"Total_Consumption\"),\n        prod: seriesFrom(productionDaily, \"Total_Production\")\n      };\n    }\n    if (activeRange === \"Month\") {\n      return {\n        cons: seriesFrom(consumptionDaily30, \"Total_Consumption\"),\n        prod: seriesFrom(productionDaily30, \"Total_Production\")\n      };\n    }\n    // Year: if you don‚Äôt have 365 daily points loaded here, we reuse 30 days.\n    return {\n      cons: seriesFrom(consumptionDaily30, \"Total_Consumption\"),\n      prod: seriesFrom(productionDaily30, \"Total_Production\")\n    };\n  }, [activeRange, consumptionDaily, consumptionDaily30, productionDaily, productionDaily30]);\n  const max = Math.max(1, ...cons, ...prod);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"chart-title\",\n        children: \"\\uD83D\\uDCCA Consumption vs Production Trend\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-options\",\n        children: ranges.map(label => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `chart-option ${activeRange === label ? \"active\" : \"\"}`,\n          onClick: () => onChangeRange(label),\n          children: label\n        }, label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: `repeat(${Math.max(cons.length, 1)}, 1fr)`,\n          gap: 4,\n          alignItems: \"end\",\n          height: 120\n        },\n        children: cons.map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: 4,\n            justifyContent: \"flex-end\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: `${Math.round(safeNum(prod[i]) / max * 100)}%`,\n              borderRadius: 6,\n              background: \"rgba(255, 204, 0, 0.65)\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: `${Math.round(safeNum(c) / max * 100)}%`,\n              borderRadius: 6,\n              background: \"rgba(0, 204, 255, 0.65)\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(GrowthAnalyticsChart, \"Wd980g04vcaXDnOuJwY92mFzW/Y=\");\n_c = GrowthAnalyticsChart;\nvar _c;\n$RefreshReg$(_c, \"GrowthAnalyticsChart\");","map":{"version":3,"names":["React","useMemo","jsxDEV","_jsxDEV","safeNum","v","n","Number","isFinite","seriesFrom","rows","key","map","r","GrowthAnalyticsChart","activeRange","onChangeRange","consumptionDaily","consumptionDaily30","productionDaily","productionDaily30","_s","ranges","cons","prod","max","Math","className","children","fileName","_jsxFileName","lineNumber","columnNumber","label","onClick","style","display","gridTemplateColumns","length","gap","alignItems","height","c","i","flexDirection","justifyContent","round","borderRadius","background","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/senior-project/website/frontend/src/components/analytics/userCharts/GrowthAnalyticsChart.js"],"sourcesContent":["// src/components/analytics/charts/GrowthAnalyticsChart.jsx\r\nimport React, { useMemo } from \"react\";\r\n\r\nfunction safeNum(v) {\r\n  const n = Number(v);\r\n  return Number.isFinite(n) ? n : 0;\r\n}\r\n\r\nfunction seriesFrom(rows, key) {\r\n  // rows already ASC (we pass cons7/cons30 already ASC from hook)\r\n  return (rows || []).map((r) => safeNum(r?.[key]));\r\n}\r\n\r\nexport default function GrowthAnalyticsChart({\r\n  activeRange,\r\n  onChangeRange,\r\n  consumptionDaily = [],\r\n  consumptionDaily30 = [],\r\n  productionDaily = [],\r\n  productionDaily30 = [],\r\n}) {\r\n  const ranges = [\"Week\", \"Month\", \"Year\"];\r\n\r\n  const { cons, prod } = useMemo(() => {\r\n    if (activeRange === \"Week\") {\r\n      return {\r\n        cons: seriesFrom(consumptionDaily, \"Total_Consumption\"),\r\n        prod: seriesFrom(productionDaily, \"Total_Production\"),\r\n      };\r\n    }\r\n    if (activeRange === \"Month\") {\r\n      return {\r\n        cons: seriesFrom(consumptionDaily30, \"Total_Consumption\"),\r\n        prod: seriesFrom(productionDaily30, \"Total_Production\"),\r\n      };\r\n    }\r\n    // Year: if you don‚Äôt have 365 daily points loaded here, we reuse 30 days.\r\n    return {\r\n      cons: seriesFrom(consumptionDaily30, \"Total_Consumption\"),\r\n      prod: seriesFrom(productionDaily30, \"Total_Production\"),\r\n    };\r\n  }, [activeRange, consumptionDaily, consumptionDaily30, productionDaily, productionDaily30]);\r\n\r\n  const max = Math.max(1, ...cons, ...prod);\r\n\r\n  return (\r\n    <div className=\"chart-card\">\r\n      <div className=\"chart-header\">\r\n        <h3 className=\"chart-title\">üìä Consumption vs Production Trend</h3>\r\n        <div className=\"chart-options\">\r\n          {ranges.map((label) => (\r\n            <span\r\n              key={label}\r\n              className={`chart-option ${activeRange === label ? \"active\" : \"\"}`}\r\n              onClick={() => onChangeRange(label)}\r\n            >\r\n              {label}\r\n            </span>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"chart-container\">\r\n        {/* lightweight ‚Äúspark bars‚Äù (no external libs, no SVG needed) */}\r\n        <div style={{ display: \"grid\", gridTemplateColumns: `repeat(${Math.max(cons.length, 1)}, 1fr)`, gap: 4, alignItems: \"end\", height: 120 }}>\r\n          {cons.map((c, i) => (\r\n            <div key={i} style={{ display: \"flex\", flexDirection: \"column\", gap: 4, justifyContent: \"flex-end\" }}>\r\n              <div style={{ height: `${Math.round((safeNum(prod[i]) / max) * 100)}%`, borderRadius: 6, background: \"rgba(255, 204, 0, 0.65)\" }} />\r\n              <div style={{ height: `${Math.round((safeNum(c) / max) * 100)}%`, borderRadius: 6, background: \"rgba(0, 204, 255, 0.65)\" }} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}