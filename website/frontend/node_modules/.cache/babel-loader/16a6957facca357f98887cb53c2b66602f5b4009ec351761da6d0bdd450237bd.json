{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\senior-project\\\\website\\\\frontend\\\\src\\\\components\\\\analytics\\\\Analytics.js\",\n  _s = $RefreshSig$();\n// src/components/analytics/Analytics.jsx\nimport React, { useMemo, useState } from \"react\";\nimport MetricsGrid from \"./MetricsGrid\";\n\n// Your existing chart components\nimport ChartCard from \"../charts/ChartCard\";\nimport LineTimeChart from \"../charts/LineTimeChart\";\nimport BarTimeChart from \"../charts/BarTimeChart\";\n\n// Your backend hook (must exist in src/components/analytics/hooks/useAnalyticsData.js)\nimport { useAnalyticsData } from \"./hooks/useAnalyticsData\";\n\n/** Safe JSON parse for localStorage */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction safeParse(json, fallback) {\n  try {\n    const v = JSON.parse(json);\n    return v !== null && v !== void 0 ? v : fallback;\n  } catch {\n    return fallback;\n  }\n}\n\n/** Convert a date-like value to ms timestamp */\nfunction toMs(v) {\n  const t = new Date(v).getTime();\n  return Number.isFinite(t) ? t : null;\n}\n\n/**\r\n * Normalizes rows into:\r\n * - ensures `Timestamp` is numeric ms for Chart.js\r\n * - sorts ascending by Timestamp\r\n *\r\n * dateKey is the preferred source field (e.g., \"Timestamp\", \"Date_Calculated\", \"Date\")\r\n */\nfunction normalizeTimeRows(rows, dateKey) {\n  const src = Array.isArray(rows) ? rows : [];\n  return src.map(r => {\n    var _ref, _ref2, _r$dateKey;\n    const raw = (_ref = (_ref2 = (_r$dateKey = r === null || r === void 0 ? void 0 : r[dateKey]) !== null && _r$dateKey !== void 0 ? _r$dateKey : r === null || r === void 0 ? void 0 : r.Timestamp) !== null && _ref2 !== void 0 ? _ref2 : r === null || r === void 0 ? void 0 : r.Date) !== null && _ref !== void 0 ? _ref : r === null || r === void 0 ? void 0 : r.Date_Calculated;\n    const ms = toMs(raw);\n    if (ms == null) return null;\n    return {\n      ...r,\n      Timestamp: ms\n    };\n  }).filter(Boolean).sort((a, b) => a.Timestamp - b.Timestamp);\n}\n\n/**\r\n * Normalizes monthly rows (Month/Year) into Timestamp for first of that month.\r\n */\nfunction normalizeMonthlyRows(rows) {\n  const src = Array.isArray(rows) ? rows : [];\n  return src.map(r => {\n    const y = Number(r === null || r === void 0 ? void 0 : r.Year);\n    const m = Number(r === null || r === void 0 ? void 0 : r.Month);\n    if (!Number.isFinite(y) || !Number.isFinite(m) || m < 1 || m > 12) return null;\n    const ms = toMs(`${y}-${String(m).padStart(2, \"0\")}-01`);\n    if (ms == null) return null;\n    return {\n      ...r,\n      Timestamp: ms\n    };\n  }).filter(Boolean).sort((a, b) => a.Timestamp - b.Timestamp);\n}\n\n/**\r\n * Merge monthly consumption & production by Timestamp so one chart can plot both.\r\n * Safe even if arrays are different lengths or missing months.\r\n */\nfunction mergeMonthly(consMonthly, prodMonthly) {\n  const map = new Map();\n  (consMonthly || []).forEach(r => {\n    map.set(r.Timestamp, {\n      Timestamp: r.Timestamp,\n      Total_Consumption: Number(r === null || r === void 0 ? void 0 : r.Total_Consumption) || 0\n    });\n  });\n  (prodMonthly || []).forEach(r => {\n    const prev = map.get(r.Timestamp) || {\n      Timestamp: r.Timestamp,\n      Total_Consumption: 0\n    };\n    map.set(r.Timestamp, {\n      ...prev,\n      Total_Production: Number(r === null || r === void 0 ? void 0 : r.Total_Production) || 0\n    });\n  });\n  return Array.from(map.values()).sort((a, b) => a.Timestamp - b.Timestamp);\n}\nexport default function Analytics() {\n  _s();\n  var _analytics$loading, _analytics$err;\n  // 1) Get first monitorId from localStorage\n  const monitors = useMemo(() => safeParse(localStorage.getItem(\"monitors\"), []), []);\n  const monitorId = useMemo(() => {\n    var _first$Monitor_ID;\n    const first = monitors === null || monitors === void 0 ? void 0 : monitors[0];\n    const id = (_first$Monitor_ID = first === null || first === void 0 ? void 0 : first.Monitor_ID) !== null && _first$Monitor_ID !== void 0 ? _first$Monitor_ID : first === null || first === void 0 ? void 0 : first.monitor_id;\n    return id != null ? String(id) : \"\";\n  }, [monitors]);\n\n  // 2) Fetch + computed values from backend hook\n  const analytics = useAnalyticsData(monitorId);\n\n  // Define EVERYTHING we use (no undefined variables)\n  const loading = (_analytics$loading = analytics === null || analytics === void 0 ? void 0 : analytics.loading) !== null && _analytics$loading !== void 0 ? _analytics$loading : false;\n  const err = (_analytics$err = analytics === null || analytics === void 0 ? void 0 : analytics.err) !== null && _analytics$err !== void 0 ? _analytics$err : \"\";\n  const todayCons = Number(analytics === null || analytics === void 0 ? void 0 : analytics.todayCons) || 0;\n  const todayProd = Number(analytics === null || analytics === void 0 ? void 0 : analytics.todayProd) || 0;\n  const solarTodayEff = Number(analytics === null || analytics === void 0 ? void 0 : analytics.solarTodayEff) || 0;\n  const avgTemp7 = Number(analytics === null || analytics === void 0 ? void 0 : analytics.avgTemp7) || 0;\n  const avgHumidity7 = Number(analytics === null || analytics === void 0 ? void 0 : analytics.avgHumidity7) || 0;\n\n  // Raw arrays (fallback to empty arrays)\n  const consD = (analytics === null || analytics === void 0 ? void 0 : analytics.consD) || [];\n  const prodD = (analytics === null || analytics === void 0 ? void 0 : analytics.prodD) || [];\n  const resD = (analytics === null || analytics === void 0 ? void 0 : analytics.resD) || [];\n  const solD = (analytics === null || analytics === void 0 ? void 0 : analytics.solD) || [];\n  const consM = (analytics === null || analytics === void 0 ? void 0 : analytics.consM) || [];\n  const prodM = (analytics === null || analytics === void 0 ? void 0 : analytics.prodM) || [];\n\n  // 3) Normalize datasets for charts (no undefined)\n  const consDaily = useMemo(() => normalizeTimeRows(consD, \"Timestamp\"), [consD]);\n  const prodDaily = useMemo(() => normalizeTimeRows(prodD, \"Timestamp\"), [prodD]);\n\n  // Reserves daily often uses Timestamp/Date; normalize with \"Timestamp\" preference\n  const reservesDaily = useMemo(() => normalizeTimeRows(resD, \"Timestamp\"), [resD]);\n\n  // Solar daily uses Date_Calculated in your project schema\n  const solarDaily = useMemo(() => normalizeTimeRows(solD, \"Date_Calculated\"), [solD]);\n\n  // Monthly\n  const consMonthly = useMemo(() => normalizeMonthlyRows(consM), [consM]);\n  const prodMonthly = useMemo(() => normalizeMonthlyRows(prodM), [prodM]);\n  const monthlyMerged = useMemo(() => mergeMonthly(consMonthly, prodMonthly), [consMonthly, prodMonthly]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"analytics-section\",\n    id: \"analytics\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-title\",\n        children: \"Advanced Analytics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), !monitorId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"muted\",\n        style: {\n          marginTop: 10\n        },\n        children: \"No monitor found for this account.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), loading && monitorId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"muted\",\n        style: {\n          marginTop: 10\n        },\n        children: \"Loading analytics...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        style: {\n          marginTop: 10\n        },\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MetricsGrid, {\n        metrics: [{\n          value: `${todayCons.toFixed(2)} kWh`,\n          label: \"Today's Consumption\"\n        }, {\n          value: `${todayProd.toFixed(2)} kWh`,\n          label: \"Today's Production\"\n        }, {\n          value: `${solarTodayEff.toFixed(1)}%`,\n          label: \"Solar Efficiency (Today)\"\n        }, {\n          value: `${avgTemp7.toFixed(1)}°C`,\n          label: \"Avg Temp (7d)\"\n        }, {\n          value: `${avgHumidity7.toFixed(1)}%`,\n          label: \"Avg Humidity (7d)\"\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"charts-grid\",\n        children: [/*#__PURE__*/_jsxDEV(ChartCard, {\n          title: \"Daily Consumption (kWh)\",\n          children: /*#__PURE__*/_jsxDEV(LineTimeChart, {\n            rows: consDaily,\n            xKey: \"Timestamp\",\n            yKeys: [\"Total_Consumption\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChartCard, {\n          title: \"Daily Production (kWh)\",\n          children: /*#__PURE__*/_jsxDEV(LineTimeChart, {\n            rows: prodDaily,\n            xKey: \"Timestamp\",\n            yKeys: [\"Total_Production\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChartCard, {\n          title: \"Monthly Consumption vs Production\",\n          children: /*#__PURE__*/_jsxDEV(LineTimeChart, {\n            rows: monthlyMerged,\n            xKey: \"Timestamp\",\n            yKeys: [\"Total_Consumption\", \"Total_Production\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChartCard, {\n          title: \"Solar Panel Efficiency (Daily)\",\n          children: /*#__PURE__*/_jsxDEV(BarTimeChart, {\n            rows: solarDaily,\n            xKey: \"Timestamp\",\n            yKeys: [\"Panel_Efficiency\"],\n            labels: {\n              Panel_Efficiency: \"Efficiency (%)\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChartCard, {\n          title: \"Energy Reserves (Daily)\",\n          children: /*#__PURE__*/_jsxDEV(BarTimeChart, {\n            rows: reservesDaily,\n            xKey: \"Timestamp\",\n            yKeys: [\"Reserve_Amount\"],\n            labels: {\n              Reserve_Amount: \"Reserves\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChartCard, {\n          title: \"Solar Generated (Daily)\",\n          children: /*#__PURE__*/_jsxDEV(BarTimeChart, {\n            rows: solarDaily,\n            xKey: \"Timestamp\",\n            yKeys: [\"Total_Energy_Generated\"],\n            labels: {\n              Total_Energy_Generated: \"kWh\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n_s(Analytics, \"iCXMZWUkcIQD/EkiuJ26cm6UFWg=\", false, function () {\n  return [useAnalyticsData];\n});\n_c = Analytics;\nvar _c;\n$RefreshReg$(_c, \"Analytics\");","map":{"version":3,"names":["React","useMemo","useState","MetricsGrid","ChartCard","LineTimeChart","BarTimeChart","useAnalyticsData","jsxDEV","_jsxDEV","safeParse","json","fallback","v","JSON","parse","toMs","t","Date","getTime","Number","isFinite","normalizeTimeRows","rows","dateKey","src","Array","isArray","map","r","_ref","_ref2","_r$dateKey","raw","Timestamp","Date_Calculated","ms","filter","Boolean","sort","a","b","normalizeMonthlyRows","y","Year","m","Month","String","padStart","mergeMonthly","consMonthly","prodMonthly","Map","forEach","set","Total_Consumption","prev","get","Total_Production","from","values","Analytics","_s","_analytics$loading","_analytics$err","monitors","localStorage","getItem","monitorId","_first$Monitor_ID","first","id","Monitor_ID","monitor_id","analytics","loading","err","todayCons","todayProd","solarTodayEff","avgTemp7","avgHumidity7","consD","prodD","resD","solD","consM","prodM","consDaily","prodDaily","reservesDaily","solarDaily","monthlyMerged","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","metrics","value","toFixed","label","title","xKey","yKeys","labels","Panel_Efficiency","Reserve_Amount","Total_Energy_Generated","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/senior-project/website/frontend/src/components/analytics/Analytics.js"],"sourcesContent":["// src/components/analytics/Analytics.jsx\r\nimport React, { useMemo, useState } from \"react\";\r\n\r\nimport MetricsGrid from \"./MetricsGrid\";\r\n\r\n// Your existing chart components\r\nimport ChartCard from \"../charts/ChartCard\";\r\nimport LineTimeChart from \"../charts/LineTimeChart\";\r\nimport BarTimeChart from \"../charts/BarTimeChart\";\r\n\r\n// Your backend hook (must exist in src/components/analytics/hooks/useAnalyticsData.js)\r\nimport { useAnalyticsData } from \"./hooks/useAnalyticsData\";\r\n\r\n/** Safe JSON parse for localStorage */\r\nfunction safeParse(json, fallback) {\r\n  try {\r\n    const v = JSON.parse(json);\r\n    return v ?? fallback;\r\n  } catch {\r\n    return fallback;\r\n  }\r\n}\r\n\r\n/** Convert a date-like value to ms timestamp */\r\nfunction toMs(v) {\r\n  const t = new Date(v).getTime();\r\n  return Number.isFinite(t) ? t : null;\r\n}\r\n\r\n/**\r\n * Normalizes rows into:\r\n * - ensures `Timestamp` is numeric ms for Chart.js\r\n * - sorts ascending by Timestamp\r\n *\r\n * dateKey is the preferred source field (e.g., \"Timestamp\", \"Date_Calculated\", \"Date\")\r\n */\r\nfunction normalizeTimeRows(rows, dateKey) {\r\n  const src = Array.isArray(rows) ? rows : [];\r\n  return src\r\n    .map((r) => {\r\n      const raw = r?.[dateKey] ?? r?.Timestamp ?? r?.Date ?? r?.Date_Calculated;\r\n      const ms = toMs(raw);\r\n      if (ms == null) return null;\r\n      return { ...r, Timestamp: ms };\r\n    })\r\n    .filter(Boolean)\r\n    .sort((a, b) => a.Timestamp - b.Timestamp);\r\n}\r\n\r\n/**\r\n * Normalizes monthly rows (Month/Year) into Timestamp for first of that month.\r\n */\r\nfunction normalizeMonthlyRows(rows) {\r\n  const src = Array.isArray(rows) ? rows : [];\r\n  return src\r\n    .map((r) => {\r\n      const y = Number(r?.Year);\r\n      const m = Number(r?.Month);\r\n      if (!Number.isFinite(y) || !Number.isFinite(m) || m < 1 || m > 12) return null;\r\n      const ms = toMs(`${y}-${String(m).padStart(2, \"0\")}-01`);\r\n      if (ms == null) return null;\r\n      return { ...r, Timestamp: ms };\r\n    })\r\n    .filter(Boolean)\r\n    .sort((a, b) => a.Timestamp - b.Timestamp);\r\n}\r\n\r\n/**\r\n * Merge monthly consumption & production by Timestamp so one chart can plot both.\r\n * Safe even if arrays are different lengths or missing months.\r\n */\r\nfunction mergeMonthly(consMonthly, prodMonthly) {\r\n  const map = new Map();\r\n\r\n  (consMonthly || []).forEach((r) => {\r\n    map.set(r.Timestamp, { Timestamp: r.Timestamp, Total_Consumption: Number(r?.Total_Consumption) || 0 });\r\n  });\r\n\r\n  (prodMonthly || []).forEach((r) => {\r\n    const prev = map.get(r.Timestamp) || { Timestamp: r.Timestamp, Total_Consumption: 0 };\r\n    map.set(r.Timestamp, { ...prev, Total_Production: Number(r?.Total_Production) || 0 });\r\n  });\r\n\r\n  return Array.from(map.values()).sort((a, b) => a.Timestamp - b.Timestamp);\r\n}\r\n\r\nexport default function Analytics() {\r\n  // 1) Get first monitorId from localStorage\r\n  const monitors = useMemo(() => safeParse(localStorage.getItem(\"monitors\"), []), []);\r\n  const monitorId = useMemo(() => {\r\n    const first = monitors?.[0];\r\n    const id = first?.Monitor_ID ?? first?.monitor_id;\r\n    return id != null ? String(id) : \"\";\r\n  }, [monitors]);\r\n\r\n  // 2) Fetch + computed values from backend hook\r\n  const analytics = useAnalyticsData(monitorId);\r\n\r\n  // Define EVERYTHING we use (no undefined variables)\r\n  const loading = analytics?.loading ?? false;\r\n  const err = analytics?.err ?? \"\";\r\n\r\n  const todayCons = Number(analytics?.todayCons) || 0;\r\n  const todayProd = Number(analytics?.todayProd) || 0;\r\n\r\n  const solarTodayEff = Number(analytics?.solarTodayEff) || 0;\r\n  const avgTemp7 = Number(analytics?.avgTemp7) || 0;\r\n  const avgHumidity7 = Number(analytics?.avgHumidity7) || 0;\r\n\r\n  // Raw arrays (fallback to empty arrays)\r\n  const consD = analytics?.consD || [];\r\n  const prodD = analytics?.prodD || [];\r\n  const resD = analytics?.resD || [];\r\n  const solD = analytics?.solD || [];\r\n  const consM = analytics?.consM || [];\r\n  const prodM = analytics?.prodM || [];\r\n\r\n  // 3) Normalize datasets for charts (no undefined)\r\n  const consDaily = useMemo(() => normalizeTimeRows(consD, \"Timestamp\"), [consD]);\r\n  const prodDaily = useMemo(() => normalizeTimeRows(prodD, \"Timestamp\"), [prodD]);\r\n\r\n  // Reserves daily often uses Timestamp/Date; normalize with \"Timestamp\" preference\r\n  const reservesDaily = useMemo(() => normalizeTimeRows(resD, \"Timestamp\"), [resD]);\r\n\r\n  // Solar daily uses Date_Calculated in your project schema\r\n  const solarDaily = useMemo(() => normalizeTimeRows(solD, \"Date_Calculated\"), [solD]);\r\n\r\n  // Monthly\r\n  const consMonthly = useMemo(() => normalizeMonthlyRows(consM), [consM]);\r\n  const prodMonthly = useMemo(() => normalizeMonthlyRows(prodM), [prodM]);\r\n  const monthlyMerged = useMemo(\r\n    () => mergeMonthly(consMonthly, prodMonthly),\r\n    [consMonthly, prodMonthly]\r\n  );\r\n\r\n  return (\r\n    <section className=\"analytics-section\" id=\"analytics\">\r\n      <div className=\"dashboard-container\">\r\n        <h2 className=\"section-title\">Advanced Analytics</h2>\r\n\r\n        {!monitorId && (\r\n          <div className=\"muted\" style={{ marginTop: 10 }}>\r\n            No monitor found for this account.\r\n          </div>\r\n        )}\r\n\r\n        {loading && monitorId && (\r\n          <div className=\"muted\" style={{ marginTop: 10 }}>\r\n            Loading analytics...\r\n          </div>\r\n        )}\r\n\r\n        {err && (\r\n          <div className=\"error\" style={{ marginTop: 10 }}>\r\n            {err}\r\n          </div>\r\n        )}\r\n\r\n        {/* If your MetricsGrid still uses the template data internally, this will still render.\r\n            If you already refactored MetricsGrid to accept props, pass metrics here. */}\r\n        <MetricsGrid\r\n          metrics={[\r\n            { value: `${todayCons.toFixed(2)} kWh`, label: \"Today's Consumption\" },\r\n            { value: `${todayProd.toFixed(2)} kWh`, label: \"Today's Production\" },\r\n            { value: `${solarTodayEff.toFixed(1)}%`, label: \"Solar Efficiency (Today)\" },\r\n            { value: `${avgTemp7.toFixed(1)}°C`, label: \"Avg Temp (7d)\" },\r\n            { value: `${avgHumidity7.toFixed(1)}%`, label: \"Avg Humidity (7d)\" },\r\n          ]}\r\n        />\r\n\r\n        <div className=\"charts-grid\">\r\n          <ChartCard title=\"Daily Consumption (kWh)\">\r\n            <LineTimeChart rows={consDaily} xKey=\"Timestamp\" yKeys={[\"Total_Consumption\"]} />\r\n          </ChartCard>\r\n\r\n          <ChartCard title=\"Daily Production (kWh)\">\r\n            <LineTimeChart rows={prodDaily} xKey=\"Timestamp\" yKeys={[\"Total_Production\"]} />\r\n          </ChartCard>\r\n\r\n          <ChartCard title=\"Monthly Consumption vs Production\">\r\n            <LineTimeChart\r\n              rows={monthlyMerged}\r\n              xKey=\"Timestamp\"\r\n              yKeys={[\"Total_Consumption\", \"Total_Production\"]}\r\n            />\r\n          </ChartCard>\r\n\r\n          {/* BAR: Solar efficiency */}\r\n          <ChartCard title=\"Solar Panel Efficiency (Daily)\">\r\n            <BarTimeChart\r\n              rows={solarDaily}\r\n              xKey=\"Timestamp\"\r\n              yKeys={[\"Panel_Efficiency\"]}\r\n              labels={{ Panel_Efficiency: \"Efficiency (%)\" }}\r\n            />\r\n          </ChartCard>\r\n\r\n          {/* BAR: Reserves */}\r\n          <ChartCard title=\"Energy Reserves (Daily)\">\r\n            <BarTimeChart\r\n              rows={reservesDaily}\r\n              xKey=\"Timestamp\"\r\n              yKeys={[\"Reserve_Amount\"]}\r\n              labels={{ Reserve_Amount: \"Reserves\" }}\r\n            />\r\n          </ChartCard>\r\n\r\n          {/* Optional: bar for solar generated */}\r\n          <ChartCard title=\"Solar Generated (Daily)\">\r\n            <BarTimeChart\r\n              rows={solarDaily}\r\n              xKey=\"Timestamp\"\r\n              yKeys={[\"Total_Energy_Generated\"]}\r\n              labels={{ Total_Energy_Generated: \"kWh\" }}\r\n            />\r\n          </ChartCard>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}